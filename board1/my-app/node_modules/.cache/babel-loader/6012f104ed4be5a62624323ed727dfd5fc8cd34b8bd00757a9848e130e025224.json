{"ast":null,"code":"import _slicedToArray from\"C:/Users/FOR/Downloads/MainProject_final/MainProject/board1/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from'react';import axios from'axios';import{refSearch}from'./BoardList';import{useDispatch,useSelector}from\"react-redux\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var limit=_ref.limit,currentPage=_ref.currentPage,onPageChange=_ref.onPageChange;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),pageCount=_useState2[0],setPageCount=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),pages=_useState4[0],setPages=_useState4[1];var search=useSelector(function(state){return state.search;});console.log(search);var data={search:search};useEffect(function(){axios.post('/getPageCnt',data).then(function(res){var length=res.data.length;var tmpCnt=Math.ceil(length/limit);setPageCount(tmpCnt);var tmpPages=Array.from({length:tmpCnt},function(v,i){return i+1;});setPages(tmpPages);}).catch(function(err){return console.log(err);});},[search]);return/*#__PURE__*/_jsx(_Fragment,{children:pages.map(function(page){if(pages.length>0){return/*#__PURE__*/_jsx(\"div\",{className:page==currentPage?'current':'',onClick:function onClick(){onPageChange(page);},children:page},page);}})});};export default Pagination;","map":{"version":3,"names":["useRef","useState","useEffect","axios","refSearch","useDispatch","useSelector","Pagination","limit","currentPage","onPageChange","pageCount","setPageCount","pages","setPages","search","state","console","log","data","post","then","res","length","tmpCnt","Math","ceil","tmpPages","Array","from","v","i","catch","err","map","page"],"sources":["C:/Users/FOR/Downloads/MainProject_final/MainProject/board1/my-app/src/components/Pagination .js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {refSearch} from './BoardList';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nconst Pagination = ({ limit, currentPage, onPageChange}) => {\r\n\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [pages, setPages] = useState([]);\r\n    const search = useSelector((state) => (state.search));\r\n    console.log(search)\r\n    let data = {\r\n        search : search\r\n    }\r\n    useEffect(() => {\r\n        axios.post('/getPageCnt',data)\r\n            .then(\r\n                (res) => {\r\n                    const length = res.data.length;\r\n                    const tmpCnt = Math.ceil(length / limit);\r\n                    setPageCount(tmpCnt);\r\n                    const tmpPages = Array.from({ length: tmpCnt }, (v, i) => i + 1);\r\n                    setPages(tmpPages);\r\n                }\r\n            )\r\n            .catch(err => console.log(err));\r\n    }, [search])\r\n\r\n    return (\r\n        <>\r\n\r\n            {pages.map(page => {\r\n                if (pages.length > 0) {\r\n                    return (\r\n                        <div\r\n                            className={page == currentPage ? 'current' : ''}\r\n                            key={page}\r\n                            onClick={() => { onPageChange(page) }}>\r\n                            {page}\r\n                        </div>\r\n                    )\r\n                }\r\n            })}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Pagination"],"mappings":"wJAAA,OAASA,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACnD,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,SAAS,KAAO,aAAa,CACrC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAAC,gGACvD,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAA4C,IAAtCC,MAAK,MAALA,KAAK,CAAEC,WAAW,MAAXA,WAAW,CAAEC,YAAY,MAAZA,YAAY,CAElD,cAAkCT,QAAQ,CAAC,CAAC,CAAC,wCAAtCU,SAAS,eAAEC,YAAY,eAC9B,eAA0BX,QAAQ,CAAC,EAAE,CAAC,yCAA/BY,KAAK,eAAEC,QAAQ,eACtB,GAAMC,OAAM,CAAGT,WAAW,CAAC,SAACU,KAAK,QAAMA,MAAK,CAACD,MAAM,EAAC,CAAC,CACrDE,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC,CACnB,GAAII,KAAI,CAAG,CACPJ,MAAM,CAAGA,MACb,CAAC,CACDb,SAAS,CAAC,UAAM,CACZC,KAAK,CAACiB,IAAI,CAAC,aAAa,CAACD,IAAI,CAAC,CACzBE,IAAI,CACD,SAACC,GAAG,CAAK,CACL,GAAMC,OAAM,CAAGD,GAAG,CAACH,IAAI,CAACI,MAAM,CAC9B,GAAMC,OAAM,CAAGC,IAAI,CAACC,IAAI,CAACH,MAAM,CAAGf,KAAK,CAAC,CACxCI,YAAY,CAACY,MAAM,CAAC,CACpB,GAAMG,SAAQ,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEN,MAAM,CAAEC,MAAO,CAAC,CAAE,SAACM,CAAC,CAAEC,CAAC,QAAKA,EAAC,CAAG,CAAC,GAAC,CAChEjB,QAAQ,CAACa,QAAQ,CAAC,CACtB,CAAC,CACJ,CACAK,KAAK,CAAC,SAAAC,GAAG,QAAIhB,QAAO,CAACC,GAAG,CAACe,GAAG,CAAC,GAAC,CACvC,CAAC,CAAE,CAAClB,MAAM,CAAC,CAAC,CAEZ,mBACI,yBAEKF,KAAK,CAACqB,GAAG,CAAC,SAAAC,IAAI,CAAI,CACf,GAAItB,KAAK,CAACU,MAAM,CAAG,CAAC,CAAE,CAClB,mBACI,YACI,SAAS,CAAEY,IAAI,EAAI1B,WAAW,CAAG,SAAS,CAAG,EAAG,CAEhD,OAAO,CAAE,kBAAM,CAAEC,YAAY,CAACyB,IAAI,CAAC,CAAC,CAAE,UACrCA,IAAI,EAFAA,IAAI,CAGP,CAEd,CACJ,CAAC,CAAC,EAEH,CAEX,CAAC,CAED,cAAe5B,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}