{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FOR\\\\Downloads\\\\MainProject_final\\\\MainProject\\\\board1\\\\my-app\\\\src\\\\components\\\\Pagination .js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { refSearch } from './BoardList';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pagination = _ref => {\n  _s();\n  let {\n    limit,\n    currentPage,\n    onPageChange\n  } = _ref;\n  const [pageCount, setPageCount] = useState(0);\n  const [pages, setPages] = useState([]);\n  const search = useSelector(state => state.search);\n  console.log(search);\n  let data = {\n    search: search\n  };\n  useEffect(() => {\n    axios.post('http://localhost:3001/getPageCnt', data).then(res => {\n      const length = res.data.length;\n      const tmpCnt = Math.ceil(length / limit);\n      setPageCount(tmpCnt);\n      const tmpPages = Array.from({\n        length: tmpCnt\n      }, (v, i) => i + 1);\n      setPages(tmpPages);\n    }).catch(err => console.log(err));\n  }, [search]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: pages.map(page => {\n      if (pages.length > 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: page == currentPage ? 'current' : '',\n          onClick: () => {\n            onPageChange(page);\n          },\n          children: page\n        }, page, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this);\n      }\n    })\n  }, void 0, false);\n};\n_s(Pagination, \"u7BAAmenZv2miIhi0LB5pRKJcfA=\", false, function () {\n  return [useSelector];\n});\n_c = Pagination;\nexport default Pagination;\nvar _c;\n$RefreshReg$(_c, \"Pagination\");","map":{"version":3,"names":["useRef","useState","useEffect","axios","refSearch","useDispatch","useSelector","Pagination","limit","currentPage","onPageChange","pageCount","setPageCount","pages","setPages","search","state","console","log","data","post","then","res","length","tmpCnt","Math","ceil","tmpPages","Array","from","v","i","catch","err","map","page"],"sources":["C:/Users/FOR/Downloads/MainProject_final/MainProject/board1/my-app/src/components/Pagination .js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {refSearch} from './BoardList';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nconst Pagination = ({ limit, currentPage, onPageChange}) => {\r\n\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [pages, setPages] = useState([]);\r\n    const search = useSelector((state) => (state.search));\r\n    console.log(search)\r\n    let data = {\r\n        search : search\r\n    }\r\n    useEffect(() => {\r\n        axios.post('http://localhost:3001/getPageCnt',data)\r\n            .then(\r\n                (res) => {\r\n                    const length = res.data.length;\r\n                    const tmpCnt = Math.ceil(length / limit);\r\n                    setPageCount(tmpCnt);\r\n                    const tmpPages = Array.from({ length: tmpCnt }, (v, i) => i + 1);\r\n                    setPages(tmpPages);\r\n                }\r\n            )\r\n            .catch(err => console.log(err));\r\n    }, [search])\r\n\r\n    return (\r\n        <>\r\n\r\n            {pages.map(page => {\r\n                if (pages.length > 0) {\r\n                    return (\r\n                        <div\r\n                            className={page == currentPage ? 'current' : ''}\r\n                            key={page}\r\n                            onClick={() => { onPageChange(page) }}>\r\n                            {page}\r\n                        </div>\r\n                    )\r\n                }\r\n            })}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Pagination"],"mappings":";;AAAA,SAASA,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACnD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,SAAS,QAAO,aAAa;AACrC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAAC;AAAA;AACvD,MAAMC,UAAU,GAAG,QAAyC;EAAA;EAAA,IAAxC;IAAEC,KAAK;IAAEC,WAAW;IAAEC;EAAY,CAAC;EAEnD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMc,MAAM,GAAGT,WAAW,CAAEU,KAAK,IAAMA,KAAK,CAACD,MAAO,CAAC;EACrDE,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;EACnB,IAAII,IAAI,GAAG;IACPJ,MAAM,EAAGA;EACb,CAAC;EACDb,SAAS,CAAC,MAAM;IACZC,KAAK,CAACiB,IAAI,CAAC,kCAAkC,EAACD,IAAI,CAAC,CAC9CE,IAAI,CACAC,GAAG,IAAK;MACL,MAAMC,MAAM,GAAGD,GAAG,CAACH,IAAI,CAACI,MAAM;MAC9B,MAAMC,MAAM,GAAGC,IAAI,CAACC,IAAI,CAACH,MAAM,GAAGf,KAAK,CAAC;MACxCI,YAAY,CAACY,MAAM,CAAC;MACpB,MAAMG,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAAC;QAAEN,MAAM,EAAEC;MAAO,CAAC,EAAE,CAACM,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC;MAChEjB,QAAQ,CAACa,QAAQ,CAAC;IACtB,CAAC,CACJ,CACAK,KAAK,CAACC,GAAG,IAAIhB,OAAO,CAACC,GAAG,CAACe,GAAG,CAAC,CAAC;EACvC,CAAC,EAAE,CAAClB,MAAM,CAAC,CAAC;EAEZ,oBACI;IAAA,UAEKF,KAAK,CAACqB,GAAG,CAACC,IAAI,IAAI;MACf,IAAItB,KAAK,CAACU,MAAM,GAAG,CAAC,EAAE;QAClB,oBACI;UACI,SAAS,EAAEY,IAAI,IAAI1B,WAAW,GAAG,SAAS,GAAG,EAAG;UAEhD,OAAO,EAAE,MAAM;YAAEC,YAAY,CAACyB,IAAI,CAAC;UAAC,CAAE;UAAA,UACrCA;QAAI,GAFAA,IAAI;UAAA;UAAA;UAAA;QAAA,QAGP;MAEd;IACJ,CAAC;EAAC,iBAEH;AAEX,CAAC;AAAA,GAzCK5B,UAAU;EAAA,QAIGD,WAAW;AAAA;AAAA,KAJxBC,UAAU;AA2ChB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}